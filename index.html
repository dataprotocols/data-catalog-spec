
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; Data Catalog Schema and Protocol 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bootstrap-css-tweaks.js"></script>
    <link rel="top" title="Data Catalog Schema and Protocol 0.1 documentation" href="#" />

  </head>
  <body>
  
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        
        <a class="brand" href="#">Data Catalog Schema and Protocol<span class="version"> v0.1</span></a>
        
        
        
          
<form class="pull-right navbar-search" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" class="search-query span2" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="span9">
      <div class="content">
       
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>The following describes a data catalog schema and access protocol. The schema
describes how metadata from the catalog should be presented (and, if
neceessary, consumed) while the protocol provides a specification of how to
interact with a data catalog in order to extract relevant information from it
such as metadata on the datasets it contains.</p>
</div>
<div class="section" id="schema">
<h1>Schema<a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h1>
<p>The Schema is directly based on <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> with some minor recommendations re
specific usage. In addition we provide a mapping of the <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> vocabulary (which
is RDF-oriented) to pure JSON (and JSON-LD).</p>
<p>The following classes from <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> are used: dcat:Dataset and dcat:Distribution
(Resource). The following are optional and are not used by default in the
outline below: dcat:Catalog and dcat:CatalogRecord.</p>
<div class="section" id="json-serialization">
<h2>JSON serialization<a class="headerlink" href="#json-serialization" title="Permalink to this headline">¶</a></h2>
<p>A dataset would be presented as follows in JSON:</p>
<div class="highlight-python"><pre>{
  # required attributes
  id: [string or integer] [dcterms:identifier] identifier of the dataset
  title: [string] [dc:title] title for the dataset
  license: [string] [dcterms:license] identifier for the license for this dataset
  resources: [list] [reference] a list of resource objects (see below)

  # optional attributes
  name: [string] [] short name or slug suitable for use in a URL
  author: [string] [dc:creator] author / creator of this dataset
  maintainer: [string] = dcterms:publisher
  tags: [ list-of-strings ] = dcat:keyword
  spatial: [GeoJSON Object] = dcterms:spatial
  temporal: [string] [dcterms:temporal] as per dcterms:temporal
  version: [string] [] string specifying version of the data

  # CatalogRecord (required)
  metadata_modified: [iso8601 datetime] [dc:modified] when catalog was last modified
  metadata_created: [iso8601 datetime] [dc:issued]
}</pre>
</div>
<p>Resource are a dcat:Distribution (and sub-types thereof):</p>
<div class="highlight-python"><pre>{
  # required
  resource_type: [ file | file.upload | api | doc | ... ] = defines the subclass of Distribution
  url: [string] [dcat:downloadUrl] url download this file

  # optional
  format: [string] [dc:format] format of the file
  size: [integer] [dcat:size] file size in bytes
  ## additions compared to DCAT
  title: [string] [dc:title] title of this resource (e.g. file name /title )
  mimetype: [string] [] the mimetype of the file
  hash: [string] [] md5 hash of the file
  last_modified: [iso8601 datetime] [dc:modified] last modified for this resource
  name: [string] [] short name / slug suitable for use in a url
}</pre>
</div>
</div>
<div class="section" id="n3-serialization">
<h2>n3 Serialization<a class="headerlink" href="#n3-serialization" title="Permalink to this headline">¶</a></h2>
<p>The n3 serialization follows directly from <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> since <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> is an RDF vocabulary. Full details can be found in the <a class="reference external" href="http://www.w3.org/TR/vocab-dcat/">DCAT</a> specification but we provide  one example here:</p>
<div class="highlight-python"><pre>:dataset/001
   a       dcat:Dataset ;
   dct:title "Imaginary dataset" ;
   dcat:keyword "accountability","transparency" ,"payments" ;
   dcat:theme :themes/accountability ;
   dct:issued "2011-12-05"^^xsd:date ;
   dct:updated "2011-12-05"^^xsd:date ;
   dct:publisher :agency/finance-ministry ;
   dct:accrualPeriodicity "every six months" ;
   dct:language "en"^^xsd:language ;
   dcat:Distribution :dataset/001/csv ;
   .</pre>
</div>
</div>
<div class="section" id="proposals-for-changes-to-dcat">
<h2>Proposals for changes to DCAT<a class="headerlink" href="#proposals-for-changes-to-dcat" title="Permalink to this headline">¶</a></h2>
<p>Various changes to DCAT have been suggested to as a result of in practice
usage. The following summarize the proposed changes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following are under discussion with the W3C Government
Linked Data working group who are managing the DCAT specification. A
detailed discussion took place at the <a class="reference external" href="http://www.w3.org/2011/gld/meeting/2012-07-26">GLD WG meeting on 26th July</a>
and consensus resolution has been reached on almost all of them at
the recent GLD meeting in October - see <a class="reference external" href="http://www.w3.org/2011/gld/meeting/2012-10-25">minutes and resolutions of
the meeting on 25th October 2012</a>.</p>
</div>
<div class="section" id="dataset-concept">
<h3>Dataset concept<a class="headerlink" href="#dataset-concept" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Remove dcat:accessURL and just use Resource (Distribution)</li>
<li>Remove dcat:dataDictionary (leave for v2 or v1.1)<ul>
<li>Better to introduce once practice has established a need and consistent
usage. One should be parsimonious in generating new properties at this
early stage.</li>
<li>Also currently has inconsistent usage</li>
</ul>
</li>
<li>Remove dcat:dataQuality (ditto)<ul>
<li>As previous</li>
</ul>
</li>
<li>Remove dcat:granularity (or specify better)<ul>
<li>As previous</li>
</ul>
</li>
<li>Remove dc:references (is it used and how would it be used)<ul>
<li>Suggest removal since for linking datasets we should have (at some point):
derives, links_to, sibling, partof</li>
<li>Remember that people can always add other attributes they want ...</li>
</ul>
</li>
<li>(Correction) dc:updated versus dc:modified (example uses dc:updated)</li>
<li>Make clear what is optional versus required (?) e.g.<ul>
<li>Designate as optional: dcterms:accrualPeriodicity</li>
<li>Designate as optional: dcat:theme</li>
</ul>
</li>
</ul>
<p>Possibly to add (but will not happen for the present):</p>
<ul class="simple">
<li>version</li>
<li>partof</li>
</ul>
</div>
<div class="section" id="distribution-resources-concept">
<h3>Distribution / Resources concept<a class="headerlink" href="#distribution-resources-concept" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Rename dcat:Distribution to dcat:Resource<ul>
<li>Distribution has a strong connotation from software of a packaged version
of the entire dataset whereas, in fact, in most cases it will be a data
file or API associated to the Dataset for which the term Resource is more
appropriate.</li>
</ul>
</li>
<li>Size: define it as bytes and add sizeString. That is:<ul>
<li>dcat:size = number / size in bytes</li>
<li>[Add] dcat:sizeString: informal string description size e.g. &gt; 1Mb</li>
</ul>
</li>
<li>Extend the set of attributes a Resource may have<ul>
<li>[Optional] Add dc:title to Resource</li>
<li>[Optional] dcat:mimetype - see http://docs.ckan.org/en/latest/domain-model-resource.html<ul>
<li><a class="reference external" href="http://docs.ckan.org/en/latest/domain-model-resource.html#resource-format-strings">http://docs.ckan.org/en/latest/domain-model-resource.html#resource-format-strings</a></li>
<li>could also have mimetypeInner</li>
</ul>
</li>
<li>[Optional]: hash (md5 or sha1, must be of form md5:{hash} or sha1:{hash})</li>
<li>[Optional]: dc:created and dc:modified</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="catalog-access-federation-and-harvesting-mechanism">
<h1>Catalog Access, Federation and Harvesting Mechanism<a class="headerlink" href="#catalog-access-federation-and-harvesting-mechanism" title="Permalink to this headline">¶</a></h1>
<p><strong>Status: early draft</strong></p>
<p>This portion of the specification details a protocol for accessing catalog
metadata and supporting automated harvesting and federation.</p>
<p><em>This specification is at a very early stage and is intended as a basis for discussion rather than a finished document</em>.</p>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>A catalog MUST provide the following API. The API base location is specified by the following meta tag in the site home page:</p>
<div class="highlight-python"><pre>&lt;meta content="data-catalog-api" value="http://my-data-catalog.org/api" /&gt;</pre>
</div>
<p>Relative to this base URL there are the following endpoints:</p>
<div class="highlight-python"><pre>/changes.json # changes API
/dataset/{id}.json # dataset API</pre>
</div>
<div class="section" id="changes-api">
<h3>Changes API<a class="headerlink" href="#changes-api" title="Permalink to this headline">¶</a></h3>
<p>Get all changes since X:</p>
<div class="highlight-python"><pre>/api/changes.json?since=date&amp;page=3</pre>
</div>
<p>Two optional parameters:</p>
<blockquote>
<div><ul class="simple">
<li>since: date to specify when to retrieve changes since</li>
<li>page: page option</li>
</ul>
</div></blockquote>
<p>Dates in the API are assumed to be formatted in according to ISO 8601 (e.g. 2012-12-12T12.12.342342).</p>
<p>Returns a list of objects like:</p>
<div class="highlight-python"><pre>{
    dataset_id:
    modified_date: 2012-12-12T12.12.342342
    change_type: update | deleted | created | ...
}</pre>
</div>
<p>Format of returned results is determined by extension. An implementor MUST implement JSON and MAY implement others such as turtle, n3 etc.</p>
<p>When the request is invalid or the requested range not available, return a 400 Bad Request with a message saying something sensible like &#8220;the turtle API is not available. Use the JSON API here: <a class="reference external" href="http://xxx">http://xxx</a>&#8220;</p>
<p>Attempts to access a format that is not supported MUST return 400 Bad Request.</p>
</div>
<div class="section" id="dataset-api">
<h3>Dataset API<a class="headerlink" href="#dataset-api" title="Permalink to this headline">¶</a></h3>
<p>This returns object corresponding to the Schema specified above. The desired representation can be specified both via the file extension on the URI as well as via an Accept header. Supported types are:</p>
<blockquote>
<div><ul class="simple">
<li>.json - application/json</li>
<li>.n3 - text/n3</li>
<li>.rdf - application/rdf+xml</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="to-discuss">
<h2>To Discuss<a class="headerlink" href="#to-discuss" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Rate limiting based on the values in a ROBOTS.txt</li>
<li>Notification (push) APIs</li>
</ul>
</div>
</div>


      </div>
    </div>
    <div class="span3">
      <div class="well sidebar-nav">
        
          
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><div class="widget toc">
  <h3>On this Page</h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a></li>
<li><a class="reference internal" href="#schema">Schema</a><ul>
<li><a class="reference internal" href="#json-serialization">JSON serialization</a></li>
<li><a class="reference internal" href="#n3-serialization">n3 Serialization</a></li>
<li><a class="reference internal" href="#proposals-for-changes-to-dcat">Proposals for changes to DCAT</a><ul>
<li><a class="reference internal" href="#dataset-concept">Dataset concept</a></li>
<li><a class="reference internal" href="#distribution-resources-concept">Distribution / Resources concept</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#catalog-access-federation-and-harvesting-mechanism">Catalog Access, Federation and Harvesting Mechanism</a><ul>
<li><a class="reference internal" href="#api">API</a><ul>
<li><a class="reference internal" href="#changes-api">Changes API</a></li>
<li><a class="reference internal" href="#dataset-api">Dataset API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#to-discuss">To Discuss</a></li>
</ul>
</li>
</ul>

</div>
<div>
  <h3>Contribute</h3>
  <p>Contributions, comments and corrections are warmly welcomed. They can
  be submitted via one of the following routes:</p>
  <ol>
    <li>A patch to the <a
    href="https://github.com/okfn/data-catalog-spec">git repo</a> (fork and pull
  recommended) &ndash; best for textual corrections and additions</li>
  <li>The <a
    href="http://lists.okfn.org/mailman/listinfo/data-catalogs">mailing
    list</a> &ndash; best for general discussion</li>
    <li>The <a href="https://github.com/okfn/data-catalog-spec/issues">issue
      tracker</a> &ndash; best for general issues or suggestions</li>
  </ol>
</div>

        </div>
      </div>
        
      </div><!--/.well -->
    </div><!--/span-->
  </div> <!-- / row -->
</div>

<footer>
  <div class="inner">
    <div class="container">
            <p class="copyright">
      </p>

      <p class="meta">
      </p>

    </div>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8271754-41']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>