
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data Catalog Interoperability Protocol (DCIP) &mdash; Data Catalog Interoperability Protocol 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bootstrap-css-tweaks.js"></script>
    <link rel="top" title="Data Catalog Interoperability Protocol 0.2 documentation" href="#" />

  </head>
  <body>
  
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        
        <a class="brand" href="#">Data Catalog Interoperability Protocol<span class="version"> v0.2</span></a>
        
        
        
          
<form class="pull-right navbar-search" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" class="search-query span2" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="span9">
      <div class="content">
       
  <div class="section" id="data-catalog-interoperability-protocol-dcip">
<h1>Data Catalog Interoperability Protocol (DCIP)<a class="headerlink" href="#data-catalog-interoperability-protocol-dcip" title="Permalink to this headline">¶</a></h1>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>DCIP is a specification designed to facilitate interoperability between data catalogs published on the Web by defining:</p>
<ul class="simple">
<li>a JSON and RDF representation for key data catalog entities such as <tt class="docutils literal"><span class="pre">Dataset(Record)</span></tt> and <tt class="docutils literal"><span class="pre">Resource</span></tt> based on the DCat vocabulary</li>
<li>a read only REST based protocol for achieving basic catalog interoperability</li>
</ul>
<p>This document discusses each of the above and provides examples. The approach is designed to be a pragmatic and easily implementable. It merges existing work on DCat with the real-life experiences of &#8220;harvesting&#8221; in various projects.</p>
<p>Publishers implementing this protocol for their catalog increase discoverability of their data and enable federation and interchange of the datasets they own. They also make it much easier for third parties to build applications based on their metadata leading to a richer ecosystem around their data.</p>
</div>
<div class="section" id="status-of-this-document">
<h2>Status of This Document<a class="headerlink" href="#status-of-this-document" title="Permalink to this headline">¶</a></h2>
<p>This document is currently in DRAFT. It has been already been the subject of consultation with interested parties and discussion will continue before being finalised. In particular, extension discussions have been had with the W3C Government Linked Data working group who are overseeing work on the <a href="#id2"><span class="problematic" id="id3">DCat_</span></a> specification and several members of that group have provided expert input and review of this specification.</p>
<p>Ideally, at least two real-world implementations for the DRAFT should exist before the first version specification is finalised. Feedback from this real-world implementation will inform the draft.</p>
<p>A future version of this document may also include:</p>
<ul class="simple">
<li>a simple authorization model for making changes securely using the signed request protocol</li>
<li>a streaming changes and notification API so that the next generation of catalogs can be built</li>
</ul>
</div>
<div class="section" id="goal">
<h2>1. Goal<a class="headerlink" href="#goal" title="Permalink to this headline">¶</a></h2>
<p>The goal of this specification is to provide a standard that meets the following user stories:</p>
<ol class="arabic simple">
<li>As an application or another catalog I want to be able to access individual dataset records in other catalogs by their ID and in an appropriate machine format so that I can use the metadata they contain without needing to resort to scraping the information from an HTML page</li>
<li>As a catalog which contains copies of certain datasets originally published in other catalogs I want to be able to determine which of my records are out of date so that I can fetch fresh copies if I need to</li>
<li>As an application or another catalog I want to be able to perform basic actions such as searching a catalog based on a dataset name or set of keywords so that I don&#8217;t need to store copies of a catalog&#8217;s metadata myself</li>
</ol>
<p>The standard as well as all underlying standards on which it is based, should meet these criteria:</p>
<ol class="arabic simple">
<li>Based on existing, open, standards in wide use, with readily available libraries and broad domain expertise.</li>
<li>Able to be implemented by an application written for a limited web browser such as IE6 or a basic smart phone such as an Android 2.1 device as well as for powerful servers</li>
<li>Extremely easy for any existing catalog to be able to implement user stories 1 and 2 so that the implementation can quickly gain broad adoption</li>
<li>Easy for future catalogs to to implement user stories 1-3 and possible for existing catalogs to be upgraded</li>
<li>Should not require any special configuration of software on the device the end user is using to access a service meeting the specification</li>
</ol>
<p>Also to consider:</p>
<ol class="arabic simple">
<li>As an application or catalog I may want to know that the information I receive from from another catalog  has not been changed by a man in the middle so that I am confident that I  can safely provide the same information to my users</li>
<li>As a catalog I want to know who is making use of my APIs so that I can give them the results they are allowed access to or adjust how my resources are used.</li>
</ol>
</div>
<div class="section" id="technology-choices">
<h2>2. Technology Choices<a class="headerlink" href="#technology-choices" title="Permalink to this headline">¶</a></h2>
<div class="section" id="http-vs-https">
<h3>HTTP vs HTTPS<a class="headerlink" href="#http-vs-https" title="Permalink to this headline">¶</a></h3>
<p>The most obvious choice for an underlying protocol on which to base DCIP is HTTP. It meets all the criteria 1-5 above and can be used as a basis for all user stories 1-5. User story 3. is about ensuring data received from other servers can be trusted. One way to ensure this would be to mandate HTTPS as the standard transport, but this has its own difficulties, namely that:</p>
<ul class="simple">
<li>HTTPS servers each have to have their own IP address. Many existing catalogs run on IPv4 networks where IP addresses are in short supply. If HTTPS was the standard, significant deployment changes may have to be made to existing infrastructure and this would break go against criteria 2. and 3. above.</li>
<li>HTTPS servers require certificates. Managing certificates puts additional overhead on catalogs that might not otherwise use them. If you want to guarantee that your HTTPS certificate authorities are recognised by very old browsers, and you want to meet criteria 5 above, you have to buy certificates from expensive providers otherwise users accessing a service from a web browser may be asked whether they trust the certificates.</li>
</ul>
<p>For these reasons, we choose HTTP as the underlying transport, but provide a facility for requests and responses to be signed to prove they haven&#8217;t been altered.</p>
</div>
<div class="section" id="jsonp-vs-json-cors-vs-dcat-n3-cors">
<h3>JSONP vs JSON+CORS vs DCat.N3+CORS<a class="headerlink" href="#jsonp-vs-json-cors-vs-dcat-n3-cors" title="Permalink to this headline">¶</a></h3>
<p>A service providing JSONP responses can be used directly in any recent browser to access feeds from across different origins using a GET request. The issues with JSONP are:</p>
<ul class="simple">
<li>The HTTP 1.1 specification suggests that 255 bytes is the safest length of a GET request. In real life IE and Safari support 2KB. That means that requests larger than 2KB cannot be made. This is probably fine for retrieving data, but not for sending it to the server. A workaround is that for each request you generate a GUID on the client, use JavaScript to post a form with the data to the server then do a second GET request to the server with the GUID to return the result as JSONP.</li>
<li>A malicious or compromised server can inject JavaScript into a client page with JSONP</li>
<li>A service wanting to support old browsers, can always proxy information to the origin server anyway and safely serve JSON.</li>
</ul>
<p>Because of these limitations we exclude JSONP from the specification but instead ensure what is proposed here is workable via a proxy server.</p>
<p>JSON+CORS is ideal in that it allows cross-origin queries to be made by a web browser but is currently supported by just 84% of browsers, with IE6 and IE7 being notable exceptions. It is well understood with broad library support.</p>
<p>DCat encoded as N3 is very useful for the RDF community.</p>
</div>
<div class="section" id="hash-algoritms">
<h3>Hash Algoritms<a class="headerlink" href="#hash-algoritms" title="Permalink to this headline">¶</a></h3>
<p>We use SHA-256 since SHA-1 has vulnerabilities and SHA-512 takes longer to hash according to <a class="reference external" href="http://stackoverflow.com/a/3897457">http://stackoverflow.com/a/3897457</a>. It is also what Facebook use for their <tt class="docutils literal"><span class="pre">signed_request</span></tt>.</p>
</div>
</div>
<div class="section" id="conformance">
<h2>3. Conformance<a class="headerlink" href="#conformance" title="Permalink to this headline">¶</a></h2>
<p>The key words <tt class="docutils literal"><span class="pre">MUST</span></tt>, <tt class="docutils literal"><span class="pre">MUST</span> <span class="pre">NOT</span></tt>, <tt class="docutils literal"><span class="pre">REQUIRED</span></tt>, <tt class="docutils literal"><span class="pre">SHOULD</span></tt>, <tt class="docutils literal"><span class="pre">SHOULD</span> <span class="pre">NOT</span></tt>, <tt class="docutils literal"><span class="pre">RECOMMENDED</span></tt>, <tt class="docutils literal"><span class="pre">MAY</span></tt>, and <tt class="docutils literal"><span class="pre">OPTIONAL</span></tt> in this specification are to be interpreted as described in [RFC2119].</p>
<ul class="simple">
<li>DCIP compliance means that a data catalog provides an API that is a subset of the APIs defined in one of the conformance levels.</li>
<li>DCIP conformance means that a data catalog provides the entire API specified for that conformance level</li>
</ul>
</div>
<div class="section" id="rest-api">
<h2>4. REST API<a class="headerlink" href="#rest-api" title="Permalink to this headline">¶</a></h2>
<p>The DCIP specification defines a simple REST API. A catalog that conforms to this API exposes enough information for another catalog to store copies of the first catalog&#8217;s dataset information as well as discover which datasets have changed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The current specification only allows for discovery of changes through regular polling of key URLs which isn&#8217;t as easy for a consumer of the catalog API to use, and requires more server resources, but is very easy for the catalog owner to implement.</p>
<p class="last">Once agreement has been reached on the basic API, one can look at further more advanced features such as streaming changes and notifications.</p>
</div>
<div class="section" id="purpose">
<h3>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h3>
<p>REST APIs in general are for the very specific case where a client needs to create, read, update or delete an entity held in a service but no querying, partial updates of the entities are required. The Basic REST API described here only deals with the <em>read</em> operation. Thus, at this stage, all the APIs described are <strong>read only</strong>.</p>
</div>
<div class="section" id="glossary">
<h3>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h3>
<p>The specification uses a few terms that you should be familiar with:</p>
<dl class="docutils">
<dt>REST</dt>
<dd>Stands for &#8220;REpresentational State Transfer&#8221; but is often used to simply describe the use of the HTTP API to create, read, update or delete REST entities hosted on a server</dd>
<dt>Entity</dt>
<dd>The object being referred to, together with an appropriate representation of any related objects. In this case we support <tt class="docutils literal"><span class="pre">Dataset</span></tt> and <tt class="docutils literal"><span class="pre">Catalog</span></tt> as two entities</dd>
</dl>
</div>
<div class="section" id="api-endpoint">
<h3>API Endpoint<a class="headerlink" href="#api-endpoint" title="Permalink to this headline">¶</a></h3>
<p>A meta tag <tt class="docutils literal"><span class="pre">MUST</span></tt> be specified in the <tt class="docutils literal"><span class="pre">&lt;head&gt;</span></tt> section of the homepage of the catalog to point to the Basic REST endpoint. The <tt class="docutils literal"><span class="pre">content</span></tt> attribute <tt class="docutils literal"><span class="pre">MUST</span></tt> contain <tt class="docutils literal"><span class="pre">dcip-basic-rest-endpoint</span></tt> and the <tt class="docutils literal"><span class="pre">value</span></tt> must contain the full endpoint URL. For example:</p>
<div class="highlight-python"><pre>&lt;meta content="dcip-basic-rest-endpoint" value="http://example.org/rest" /&gt;</pre>
</div>
</div>
<div class="section" id="entities">
<h3>Entities<a class="headerlink" href="#entities" title="Permalink to this headline">¶</a></h3>
<p>The Basic REST API defines just one entity at present:</p>
<ul class="simple">
<li>Dataset</li>
</ul>
<p>The catalog <tt class="docutils literal"><span class="pre">MUST</span></tt> support representing the <tt class="docutils literal"><span class="pre">Dataset</span></tt> entities in JSON and <tt class="docutils literal"><span class="pre">SHOULD</span></tt> support their representation as DCat encoded in N3. A full specification of the Dataset entity and its subcomponents can be found in the separate Entity Schemas sectio below.</p>
</div>
<div class="section" id="url-structure">
<h3>URL Structure<a class="headerlink" href="#url-structure" title="Permalink to this headline">¶</a></h3>
<p>URLs are assembled like this:</p>
<div class="highlight-python"><pre>&lt;endpoint&gt;/&lt;entity-name&gt;/&lt;by-entity-attribute&gt;/&lt;entity-id&gt;.&lt;format_extension&gt;</pre>
</div>
<p>If the endpoint is specified with a <tt class="docutils literal"><span class="pre">/</span></tt> character, this <tt class="docutils literal"><span class="pre">MUST</span></tt> be removed before computing the URL.</p>
<p>The format extension specifies the format of any request body as well as the format of any response. The endpoint <tt class="docutils literal"><span class="pre">MUST</span></tt> support <tt class="docutils literal"><span class="pre">.json</span></tt> and <tt class="docutils literal"><span class="pre">.dcat.N3</span></tt> as the format extensions returning JSON and N3 encoded DCat respectively.</p>
<p>If a request other than a <tt class="docutils literal"><span class="pre">GET</span></tt> is made to any URL at the endpoint, a <tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Response</span></tt> <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned.</p>
</div>
<div class="section" id="response-headers">
<h3>Response Headers<a class="headerlink" href="#response-headers" title="Permalink to this headline">¶</a></h3>
<p>All <tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt> successful API request responses will always contain the following headers:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Content-Type</span></tt></dt>
<dd>Value <tt class="docutils literal"><span class="pre">MUST</span></tt> be <tt class="docutils literal"><span class="pre">application/json;</span> <span class="pre">charset=utf8</span></tt> if the format extension was <tt class="docutils literal"><span class="pre">.json</span></tt> or . XXX What should it be for N3? or  <tt class="docutils literal"><span class="pre">text/plain;</span> <span class="pre">charset=utf8</span></tt> for text responses.</dd>
<dt><tt class="docutils literal"><span class="pre">Content-Length</span></tt></dt>
<dd>Value <tt class="docutils literal"><span class="pre">MUST</span></tt> be the length in bytes of the UTF-8 encoded serialisation of the entity type</dd>
<dt><tt class="docutils literal"><span class="pre">Access-Control-Allow-Origin</span></tt></dt>
<dd>Value <tt class="docutils literal"><span class="pre">MUST</span></tt> be <tt class="docutils literal"><span class="pre">*</span></tt> to allow a web browser running JavaScript served from any domain to access the response</dd>
</dl>
</div>
<div class="section" id="read-dataset-api-call">
<h3>Read Dataset API Call<a class="headerlink" href="#read-dataset-api-call" title="Permalink to this headline">¶</a></h3>
<p>To get a JSON representation of a <tt class="docutils literal"><span class="pre">Dataset</span></tt> with an <tt class="docutils literal"><span class="pre">id</span></tt> of <tt class="docutils literal"><span class="pre">123</span></tt> at the endpoint <tt class="docutils literal"><span class="pre">http://example.com/rest</span></tt> you would issue an HTTP GET request to this URL:</p>
<div class="highlight-python"><pre>http://example.com/rest/dataset/id/123.json</pre>
</div>
<p>These are the HTTP response status&#8217;s that <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned given the possible outcomes of the requst:</p>
<p><tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt></p>
<blockquote>
<div>The request was successful and the entity will be returned in the response body, encoded in whatever way is most appropriate for the file extension chosen.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Request</span></tt></p>
<blockquote>
<div>The request was not understood by the server.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></tt></p>
<blockquote>
<div>There is no entity with the ID you have specified.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">429</span> <span class="pre">Too</span> <span class="pre">Many</span> <span class="pre">Requests</span></tt></p>
<blockquote>
<div>You have made too many requests too quickly and rate limiting has kicked in.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">500</span> <span class="pre">Internal</span> <span class="pre">Server</span> <span class="pre">Error</span></tt></p>
<blockquote>
<div>The server has crashed trying to fulfil the request</div></blockquote>
<p>The server <tt class="docutils literal"><span class="pre">MAY</span> <span class="pre">NOT</span></tt> return any other response status.</p>
<p>No response body is returned unless the status is <tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt>.</p>
<p>The response can be HTTP 1.0 or HTTP 1.1. The response body <tt class="docutils literal"><span class="pre">MUST</span></tt> be the JSON serialised representation of the <tt class="docutils literal"><span class="pre">Dataset</span></tt> if the format extension of the request was <tt class="docutils literal"><span class="pre">.json</span></tt> and <tt class="docutils literal"><span class="pre">MUST</span></tt> be the N3 serialized representation of the <tt class="docutils literal"><span class="pre">Dataset</span></tt> if the format extension was <tt class="docutils literal"><span class="pre">.dcat.N3</span></tt>. Either way, the response <tt class="docutils literal"><span class="pre">MUST</span></tt> be encoded as UTF-8.</p>
<p>Here&#8217;s an example HTTP response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Length: 104
Content-Type: application/json; charset=utf8

{
    ... Dataset information ...
}</pre>
</div>
<p>If no <tt class="docutils literal"><span class="pre">format_extension</span></tt> is specified on the request URL, a <tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Request</span></tt> <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned.</p>
</div>
<div class="section" id="list-dataset-api-call">
<h3>List Dataset API Call<a class="headerlink" href="#list-dataset-api-call" title="Permalink to this headline">¶</a></h3>
<p>To get a list of all Datasets including their ID, make a GET request as above but leave off the entity ID and format extension. For example, to list all <tt class="docutils literal"><span class="pre">Datasets</span></tt> with their IDs make a GET request to this URL:</p>
<div class="highlight-python"><pre>http://example.com/rest/dataset/</pre>
</div>
<p>These are the HTTP response status&#8217;s that <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned given the possible outcomes of the requst:</p>
<p><tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt></p>
<blockquote>
<div>The request was successful and the entity will be returned in the response body, encoded in whatever way is most appropriate for the file extension chosen.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Request</span></tt></p>
<blockquote>
<div>The request was not understood by the server.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">429</span> <span class="pre">Too</span> <span class="pre">Many</span> <span class="pre">Requests</span></tt></p>
<blockquote>
<div>You have made too many requests too quickly and rate limiting has kicked in.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">500</span> <span class="pre">Internal</span> <span class="pre">Server</span> <span class="pre">Error</span></tt></p>
<blockquote>
<div>The server has crashed trying to fulfil the request</div></blockquote>
<p>The server <tt class="docutils literal"><span class="pre">MAY</span> <span class="pre">NOT</span></tt> return any other response status.</p>
<p>No response body is returned unless the status is <tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt> in which case the JSON or N3 serialised list representation <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the moment no paging facility is specified in order to make the API simpler to implement.</p>
</div>
<div class="section" id="response-format">
<h4>Response Format<a class="headerlink" href="#response-format" title="Permalink to this headline">¶</a></h4>
<p>A catalog proving a list Datasets, <tt class="docutils literal"><span class="pre">MUST</span></tt> specify at least these attributes for each:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">id</span></tt></dt>
<dd>The Dataset ID.</dd>
<dt><tt class="docutils literal"><span class="pre">change_type</span></tt></dt>
<dd><tt class="docutils literal"><span class="pre">MUST</span></tt> take one of the values <tt class="docutils literal"><span class="pre">create</span></tt>, <tt class="docutils literal"><span class="pre">update</span></tt> or <tt class="docutils literal"><span class="pre">delete</span></tt> depending on whether this latest revision is as a result of an update, creation or deletion.</dd>
<dt><tt class="docutils literal"><span class="pre">modified</span></tt></dt>
<dd>The date the update, creation or deletion occurred</dd>
<dt><tt class="docutils literal"><span class="pre">url</span></tt></dt>
<dd>The FULL URL a client should get to obtain the serialisation of the Dataset that matches the serialization of the list of Datasets.</dd>
</dl>
<p>It <tt class="docutils literal"><span class="pre">SHOULD</span></tt> also include these attributes if it supports such concepts:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">revision</span></tt></dt>
<dd>An ID representing the last revision</dd>
</dl>
<p>For example as JSON we might have:</p>
<div class="highlight-python"><pre>[
    {
        id: "123",
        modified: "2012-01-01 13:34",
        change_type: "update",
        url: http://example.com/rest/dataset/id/123.json
    },
    {
        id: "456",
        modified: "2011-11-21 16:29",
        change_type: "delete",
        url: http://example.com/rest/dataset/id/456.json
    },
    ... etc ...
]</pre>
</div>
<p>Notice that <tt class="docutils literal"><span class="pre">url</span></tt> is the full URL.</p>
</div>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>Here&#8217;s an example HTTP response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Length: 5604
Content-Type: application/json; charset=utf8

[
    {
        id: "123",
        modified: "2012-01-01 13:34",
        change_type: "update",
        url: http://example.com/rest/dataset/id/123.json
    },
    {
        id: "456",
        modified: "2011-11-21 16:29",
        change_type: "delete",
        url: http://example.com/rest/dataset/id/456.json
    },
    ... etc ...
]</pre>
</div>
</div>
</div>
<div class="section" id="help-dataset-api-call">
<h3>Help Dataset API Call<a class="headerlink" href="#help-dataset-api-call" title="Permalink to this headline">¶</a></h3>
<p>If no <tt class="docutils literal"><span class="pre">by-entity-attribute</span></tt> is specified but a <tt class="docutils literal"><span class="pre">/</span></tt> character remains on the end of the URL like this:</p>
<div class="highlight-python"><pre>http://example.com/rest/dataset/</pre>
</div>
<p>then a 301 redirect <tt class="docutils literal"><span class="pre">SHOULD</span></tt> be made to <tt class="docutils literal"><span class="pre">http://example.com/rest/dataset/help.txt</span></tt>. Likewise if a request is made to:</p>
<div class="highlight-python"><pre>http://example.com/rest/dataset</pre>
</div>
<p>then a 301 redirect <tt class="docutils literal"><span class="pre">SHOULD</span></tt> also be made to <tt class="docutils literal"><span class="pre">http://example.com/rest/dataset/help.txt</span></tt></p>
<p>Here is a suitable response for the redirect. No response body is required:</p>
<div class="highlight-python"><pre>HTTP/1.1 301 Moved Permanently
Location: http://example.com/rest/dataset/help.txt</pre>
</div>
<p>When a request is made to the Dataset help URL at <tt class="docutils literal"><span class="pre">help.txt</span></tt>, it <tt class="docutils literal"><span class="pre">MUST</span></tt> return UTF-8 encoded text that was wrapped to 78 characters and explains how the API for the entity is used.</p>
<p>The help text below <tt class="docutils literal"><span class="pre">MAY</span></tt> be used but the URLs <tt class="docutils literal"><span class="pre">MUST</span></tt> be suitably adjusted:</p>
<div class="highlight-python"><pre>Datasets Help

This API is based on the DCIP specification version 1.0 DRAFT at
http://datacanspeak.com/ref/dcip/1.0-draft.html

You can specify the Dataset you wish to return with its ID
followed by the response format file extension. For example:

    GET http://example.com/rest/dataset/id/123.json

The following file extensions are supported for setting the response
format:

.json
    The response should be in JSON format

.dcat.N3
    The respose will be in N3 encoded DCat RDF

A list of all available Datasets can be found at this URL:

    GET http://example.com/rest/Dataset/id/</pre>
</div>
<p>These are the HTTP response status&#8217;s that <tt class="docutils literal"><span class="pre">MUST</span></tt> be returned given the possible outcomes of the requst:</p>
<p><tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt></p>
<blockquote>
<div>The request was successful and the help text will be returned</div></blockquote>
<p><tt class="docutils literal"><span class="pre">400</span> <span class="pre">Bad</span> <span class="pre">Request</span></tt></p>
<blockquote>
<div>The request was not understood by the server.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">429</span> <span class="pre">Too</span> <span class="pre">Many</span> <span class="pre">Requests</span></tt></p>
<blockquote>
<div>You have made too many requests too quickly and rate limiting has kicked in.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">500</span> <span class="pre">Internal</span> <span class="pre">Server</span> <span class="pre">Error</span></tt></p>
<blockquote>
<div>The server has crashed trying to fulfil the request</div></blockquote>
<p>The server <tt class="docutils literal"><span class="pre">MAY</span> <span class="pre">NOT</span></tt> return any other response status.</p>
<p>The <tt class="docutils literal"><span class="pre">Content-Type</span></tt> header <tt class="docutils literal"><span class="pre">MUST</span></tt> be set to <tt class="docutils literal"><span class="pre">text/plain;</span> <span class="pre">charset=utf8</span></tt> and the usual <tt class="docutils literal"><span class="pre">Content-Length</span></tt> and <tt class="docutils literal"><span class="pre">Access-Control-Allow-Origin</span></tt> headers must be set.</p>
<p>A server <tt class="docutils literal"><span class="pre">MAY</span></tt> present its help text in markdown format so that it can be parsed and presented as HTML by a client if necessary.</p>
</div>
<div class="section" id="api-help-call">
<h3>API Help Call<a class="headerlink" href="#api-help-call" title="Permalink to this headline">¶</a></h3>
<p>If no <tt class="docutils literal"><span class="pre">entity-type</span></tt> is specified and a URL like this is requested:</p>
<div class="highlight-python"><pre>http://example.com/rest/</pre>
</div>
<p>then a 301 redirect <tt class="docutils literal"><span class="pre">SHOULD</span></tt> be made to <tt class="docutils literal"><span class="pre">http://example.com/rest/help.txt</span></tt>.</p>
<p>Here is a suitable response for the redirect. No response body is required:</p>
<div class="highlight-python"><pre>HTTP/1.1 301 Moved Permanently
Location: http://example.com/rest/help.txt</pre>
</div>
<p>When a request is made to the Dataset help URL at <tt class="docutils literal"><span class="pre">help.txt</span></tt>, it <tt class="docutils literal"><span class="pre">MUST</span></tt></p>
<ul class="simple">
<li>return UTF-8 encoded text that was wrapped to 78 characters</li>
<li>include a link to the catalog info API</li>
<li>list the Dataset entities available and points to their help URLs</li>
</ul>
<p>It <tt class="docutils literal"><span class="pre">MAY</span></tt> also include a description of what the catalog itself is for and
contact information for the catalog maintainer.</p>
<p>The help text below <tt class="docutils literal"><span class="pre">MAY</span></tt> be used but the URLs <tt class="docutils literal"><span class="pre">MUST</span></tt> be suitably adjusted:</p>
<div class="highlight-python"><pre>Welcome to the Catalog Basic REST API.

This API is based on the DCIP specification version 1.0 DRAFT at
http://spec.datacatalogs.com/

You can obtain information about this catalog by issuing a GET request to
one of these URLs

    http://example.com/rest/catalog.json
    http://example.com/rest/catalog.dcat.N3

The following entity types are exposed by this API:

Dataset
    See http://example.com/rest/dataset/help.txt for information on its use</pre>
</div>
<p>A server <tt class="docutils literal"><span class="pre">MAY</span></tt> present its help text in markdown format so that it can be parsed and presented as HTML by a client if necessary.</p>
</div>
<div class="section" id="extensions">
<h3>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h3>
<p>An implementing catalog <tt class="docutils literal"><span class="pre">MAY</span></tt> extend this specification in three ways:</p>
<ul class="simple">
<li>by implementing support for more <tt class="docutils literal"><span class="pre">entity-types</span></tt></li>
<li>by implementing support for accessing entities by an attribute other than ID</li>
<li>by returning additional information in the serialised Dataset</li>
</ul>
<p>It <tt class="docutils literal"><span class="pre">MAY</span> <span class="pre">NOT</span></tt>:</p>
<ul class="simple">
<li>implement alternatives to the specified API (ie the specified API must always be fully supported in its entirety too)</li>
<li>give new meanings to any existing Dataset attributes</li>
</ul>
</div>
<div class="section" id="caching">
<h3>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h3>
<p>No caching methodoloy is specified by this specification. It is likely a future specification will recommend Etag caching for both Dataset entities and lists of entities.</p>
</div>
</div>
<div class="section" id="entity-schema">
<h2>5. Entity Schema<a class="headerlink" href="#entity-schema" title="Permalink to this headline">¶</a></h2>
<p>The Schema is directly based on <a href="#id4"><span class="problematic" id="id5">DCat_</span></a> with some minor recommendations regarding specific usage and serialization.</p>
<p>The following classes from <a href="#id6"><span class="problematic" id="id7">DCat_</span></a> are used: dcat:Dataset and dcat:Distribution
(Resource). The following are optional and are not used by default in the
outline below: dcat:Catalog and dcat:CatalogRecord.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Dataset vs Dataset Record. In this specification, the entities we are calling datasets are really objects which contain metadata about some actual data in a distributable form. Implementing catalogs might refer to these entities as &#8220;Metadata Records&#8221;, &#8220;Dataset Records&#8221; or &#8220;Catalog Entries&#8221;. To be consistent with DCat and implementations such as CKAN, this specification refers to this metadata as a &#8220;Dataset&#8221;.</p>
</div>
<div class="section" id="empty-or-missing-values">
<h3>Empty or Missing Values<a class="headerlink" href="#empty-or-missing-values" title="Permalink to this headline">¶</a></h3>
<p>As a guide, where a value is NULL or an empty value, the corresponding key <tt class="docutils literal"><span class="pre">SHOULD</span></tt> not be present in the serialisation of the dataset record.</p>
</div>
<div class="section" id="dataset">
<h3>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h3>
<p>A dataset would be presented as follows in JSON:</p>
<div class="highlight-python"><pre>{
  # required attributes
  id: [string or integer] [dcterms:identifier] identifier of the dataset
  title: [string] [dc:title] title for the dataset
  license: [string] [dcterms:license] identifier for the license for this dataset
  resources: [list] [reference] a list of resource objects (see below)

  # optional attributes
  name: [string] [] short name or slug suitable for use in a URL
  author: [string] [dc:creator] author / creator of this dataset
  maintainer: [string] = dcterms:publisher
  tags: [ list-of-strings ] = dcat:keyword
  spatial: [GeoJSON Object] = dcterms:spatial
  temporal: [string] [dcterms:temporal] as per dcterms:temporal
  version: [string] [] string specifying version of the data

  # CatalogRecord (required)
  metadata_modified: [iso8601 datetime] [dc:modified] when catalog was last modified
  metadata_created: [iso8601 datetime] [dc:issued]
}</pre>
</div>
<p>Resources are a dcat:Distribution (and sub-types thereof):</p>
<div class="highlight-python"><pre>{
  # required
  resource_type: [ file | file.upload | api | doc | ... ] = defines the subclass of Distribution
  url: [string] [dcat:downloadUrl] url download this file

  # optional
  format: [string] [dc:format] format of the file
  size: [integer] [dcat:size] file size in bytes
  ## additions compared to DCat
  title: [string] [dc:title] title of this resource (e.g. file name /title )
  mimetype: [string] [] the mimetype of the file
  hash: [string] [] md5 hash of the file
  last_modified: [iso8601 datetime] [dc:modified] last modified for this resource
  name: [string] [] short name / slug suitable for use in a url
}</pre>
</div>
<p>The n3 serialization follows directly from <a href="#id8"><span class="problematic" id="id9">DCat_</span></a> since <a href="#id10"><span class="problematic" id="id11">DCat_</span></a> is an RDF vocabulary. Full details can be found in the <a href="#id12"><span class="problematic" id="id13">DCat_</span></a> specification but we provide  one example here:</p>
<div class="highlight-python"><pre>:dataset/001
   a       dcat:Dataset ;
   dct:title "Imaginary dataset" ;
   dcat:keyword "accountability","transparency" ,"payments" ;
   dcat:theme :themes/accountability ;
   dct:issued "2011-12-05"^^xsd:date ;
   dct:updated "2011-12-05"^^xsd:date ;
   dct:publisher :agency/finance-ministry ;
   dct:accrualPeriodicity "every six months" ;
   dct:language "en"^^xsd:language ;
   dcat:Distribution :dataset/001/csv ;
   .</pre>
</div>
</div>
</div>
<div class="section" id="references">
<h2>7. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>RFC2119</dt>
<dd><ol class="first last upperalpha simple" start="19">
<li>Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Internet RFC 2119. URL: <a class="reference external" href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a></li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="appendicies">
<h2>8. Appendicies<a class="headerlink" href="#appendicies" title="Permalink to this headline">¶</a></h2>
<div class="section" id="proposals-for-changes-to-dcat">
<h3>Proposals for changes to DCat<a class="headerlink" href="#proposals-for-changes-to-dcat" title="Permalink to this headline">¶</a></h3>
<p>Various changes to DCat have been suggested to as a result of in practice
usage. The following summarize the proposed changes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following are under discussion with the W3C Government
Linked Data working group who are managing the DCat specification. A
detailed discussion took place at the <a class="reference external" href="http://www.w3.org/2011/gld/meeting/2012-07-26">GLD WG meeting on 26th July</a>
and consensus resolution has been reached on almost all of them at
the recent GLD meeting in October - see <a class="reference external" href="http://www.w3.org/2011/gld/meeting/2012-10-25">minutes and resolutions of
the meeting on 25th October 2012</a>.</p>
</div>
<div class="section" id="dataset-concept">
<h4>Dataset concept<a class="headerlink" href="#dataset-concept" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Remove dcat:accessURL and just use Resource (Distribution)</li>
<li>Remove dcat:dataDictionary (leave for v2 or v1.1)<ul>
<li>Better to introduce once practice has established a need and consistent
usage. One should be parsimonious in generating new properties at this
early stage.</li>
<li>Also currently has inconsistent usage</li>
</ul>
</li>
<li>Remove dcat:dataQuality (ditto)<ul>
<li>As previous</li>
</ul>
</li>
<li>Remove dcat:granularity (or specify better)<ul>
<li>As previous</li>
</ul>
</li>
<li>Remove dc:references (is it used and how would it be used)<ul>
<li>Suggest removal since for linking datasets we should have (at some point):
derives, links_to, sibling, partof</li>
<li>Remember that people can always add other attributes they want ...</li>
</ul>
</li>
<li>(Correction) dc:updated versus dc:modified (example uses dc:updated)</li>
<li>Make clear what is optional versus required (?) e.g.<ul>
<li>Designate as optional: dcterms:accrualPeriodicity</li>
<li>Designate as optional: dcat:theme</li>
</ul>
</li>
</ul>
<p>Possibly to add (but will not happen for the present):</p>
<ul class="simple">
<li>version</li>
<li>partof</li>
</ul>
</div>
<div class="section" id="distribution-resources-concept">
<h4>Distribution / Resources concept<a class="headerlink" href="#distribution-resources-concept" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Rename dcat:Distribution to dcat:Resource<ul>
<li>Distribution has a strong connotation from software of a packaged version
of the entire dataset whereas, in fact, in most cases it will be a data
file or API associated to the Dataset for which the term Resource is more
appropriate.</li>
</ul>
</li>
<li>Size: define it as bytes and add sizeString. That is:<ul>
<li>dcat:size = number / size in bytes</li>
<li>[Add] dcat:sizeString: informal string description size e.g. &gt; 1Mb</li>
</ul>
</li>
<li>Extend the set of attributes a Resource may have<ul>
<li>[Optional] Add dc:title to Resource</li>
<li>[Optional] dcat:mimetype - see http://docs.ckan.org/en/latest/domain-model-resource.html<ul>
<li><a class="reference external" href="http://docs.ckan.org/en/latest/domain-model-resource.html#resource-format-strings">http://docs.ckan.org/en/latest/domain-model-resource.html#resource-format-strings</a></li>
<li>could also have mimetypeInner</li>
</ul>
</li>
<li>[Optional]: hash (md5 or sha1, must be of form md5:{hash} or sha1:{hash})</li>
<li>[Optional]: dc:created and dc:modified</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="potential-catalog-entity-attributes">
<h3>Potential Catalog Entity Attributes<a class="headerlink" href="#potential-catalog-entity-attributes" title="Permalink to this headline">¶</a></h3>
<p>The catalog data model simply exists to provide basic information about the catalog itself. Note that we don&#8217;t call this a <tt class="docutils literal"><span class="pre">CatalogRecord</span></tt> since in this case the catalog provies information directly about itself and we aren&#8217;t tracking metadata records about lots of other catalogs.</p>
<p>A Catalog <tt class="docutils literal"><span class="pre">MUST</span></tt> provide the following information:</p>
<div class="highlight-python"><pre>{
    id:
    description:
    contact:
}</pre>
</div>
</div>
</div>
</div>


      </div>
    </div>
    <div class="span3">
      <div class="well sidebar-nav">
        
          
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><div class="widget toc">
  <h3>On this Page</h3>
  <ul>
<li><a class="reference internal" href="#">Data Catalog Interoperability Protocol (DCIP)</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#status-of-this-document">Status of This Document</a></li>
<li><a class="reference internal" href="#goal">1. Goal</a></li>
<li><a class="reference internal" href="#technology-choices">2. Technology Choices</a><ul>
<li><a class="reference internal" href="#http-vs-https">HTTP vs HTTPS</a></li>
<li><a class="reference internal" href="#jsonp-vs-json-cors-vs-dcat-n3-cors">JSONP vs JSON+CORS vs DCat.N3+CORS</a></li>
<li><a class="reference internal" href="#hash-algoritms">Hash Algoritms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conformance">3. Conformance</a></li>
<li><a class="reference internal" href="#rest-api">4. REST API</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
<li><a class="reference internal" href="#api-endpoint">API Endpoint</a></li>
<li><a class="reference internal" href="#entities">Entities</a></li>
<li><a class="reference internal" href="#url-structure">URL Structure</a></li>
<li><a class="reference internal" href="#response-headers">Response Headers</a></li>
<li><a class="reference internal" href="#read-dataset-api-call">Read Dataset API Call</a></li>
<li><a class="reference internal" href="#list-dataset-api-call">List Dataset API Call</a><ul>
<li><a class="reference internal" href="#response-format">Response Format</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#help-dataset-api-call">Help Dataset API Call</a></li>
<li><a class="reference internal" href="#api-help-call">API Help Call</a></li>
<li><a class="reference internal" href="#extensions">Extensions</a></li>
<li><a class="reference internal" href="#caching">Caching</a></li>
</ul>
</li>
<li><a class="reference internal" href="#entity-schema">5. Entity Schema</a><ul>
<li><a class="reference internal" href="#empty-or-missing-values">Empty or Missing Values</a></li>
<li><a class="reference internal" href="#dataset">Dataset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">7. References</a></li>
<li><a class="reference internal" href="#appendicies">8. Appendicies</a><ul>
<li><a class="reference internal" href="#proposals-for-changes-to-dcat">Proposals for changes to DCat</a><ul>
<li><a class="reference internal" href="#dataset-concept">Dataset concept</a></li>
<li><a class="reference internal" href="#distribution-resources-concept">Distribution / Resources concept</a></li>
</ul>
</li>
<li><a class="reference internal" href="#potential-catalog-entity-attributes">Potential Catalog Entity Attributes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
<div>
  <h3>Contribute</h3>
  <p>Contributions, comments and corrections are warmly welcomed. They can
  be submitted via one of the following routes:</p>
  <ol>
    <li>A patch to the <a
    href="https://github.com/dataprotocols/data-catalog-spec">git repo</a> (fork and pull
  recommended) &ndash; best for textual corrections and additions</li>
  <li>The <a
    href="http://lists.okfn.org/mailman/listinfo/data-catalogs">mailing
    list</a> &ndash; best for general discussion</li>
    <li>The <a href="https://github.com/dataprotocols/data-catalog-spec/issues">issue
      tracker</a> &ndash; best for general issues or suggestions</li>
  </ol>
</div>

        </div>
      </div>
        
      </div><!--/.well -->
    </div><!--/span-->
  </div> <!-- / row -->
</div>

<footer>
  <div class="inner">
    <div class="container">
            <p class="copyright">
      </p>

      <p class="meta">
      </p>

    </div>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8271754-41']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>